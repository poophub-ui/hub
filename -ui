-- StealHub.lua
-- LocalScript to be placed in StarterPlayerScripts (or executed by an executor)
-- Shows current PlaceId, available scripts, and executes matching script(s).
-- If user attempts to execute and no script is available for the current place, it will show 5 English notifications "No scripts available".

local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local player = Players.LocalPlayer

-- Configuration: known scripts
local scripts = {
    { id = 72212564918217, name = "Steal a Fish", url = "https://raw.githubusercontent.com/poophub-ui/premiumfree/main/poophubstealafish.lua.txt" },
    { id = 113909146512320, name = "Steal a Meme", url = "https://raw.githubusercontent.com/poophub-ui/stealameme/refs/heads/main/poophub.lua.txt" },
    { id = 116868134708688, name = "Steal a 99 Night", url = "https://raw.githubusercontent.com/poophub-ui/premiumfree/main/poophubstealafish.lua.txt" },
    { id = 122368660965179, name = "Steal a Drink", url = "https://raw.githubusercontent.com/poophub-ui/stealadrink/refs/heads/main/poophub-source.lua.txt" },
    { id = 86049244548458, name = "Steal a Plane", url = "https://raw.githubusercontent.com/poophub-ui/premiumfree/main/poophubstealafish.lua.txt" },
    { id = 90713802495530, name = "Steal a Soccer Team", url = "https://raw.githubusercontent.com/poophub-ui/steal-a-soccer-team/refs/heads/main/source.lua" },
}

local function showNotification(title, text, duration)
    duration = duration or 3
    pcall(function()
        StarterGui:SetCore("SendNotification", {
            Title = tostring(title),
            Text = tostring(text),
            Duration = duration
        })
    end)
end

-- Helper: attempt to load and run a remote script safely
local function tryExecuteScript(url)
    if not url or url == "" then
        return false, "No URL"
    end
    local ok, res = pcall(function()
        local httpGet = game.HttpGet or (function(u) return game:HttpGet(u) end)
        local code = httpGet(game, url)
        if not code or code == "" then error("Empty response") end
        -- Loadstring may be blocked in some environments; use load if available
        local fn = loadstring and loadstring(code) or load(code)
        if not fn then error("Unable to load script") end
        return fn()
    end)
    return ok, res
end

-- Create simple GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "StealHubGui"
screenGui.ResetOnSpawn = false

local main = Instance.new("Frame")
main.Name = "Main"
main.Size = UDim2.new(0, 420, 0, 320)
main.Position = UDim2.new(0.5, -210, 0.5, -160)
main.AnchorPoint = Vector2.new(0.5, 0.5)
main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
main.BorderSizePixel = 0
main.Parent = screenGui

local uiCorner = Instance.new("UICorner", main)
uiCorner.CornerRadius = UDim.new(0, 8)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -12, 0, 32)
title.Position = UDim2.new(0, 6, 0, 6)
title.BackgroundTransparency = 1
title.Text = "StealHub â€” Script launcher"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.TextScaled = false
title.Font = Enum.Font.SourceSansBold
title.TextSize = 18
title.Parent = main

local placeLabel = Instance.new("TextLabel")
placeLabel.Size = UDim2.new(1, -12, 0, 28)
placeLabel.Position = UDim2.new(0, 6, 0, 44)
placeLabel.BackgroundTransparency = 1
placeLabel.Text = "PlaceId: " .. tostring(game.PlaceId)
placeLabel.TextColor3 = Color3.fromRGB(200,200,200)
placeLabel.TextScaled = false
placeLabel.Font = Enum.Font.SourceSans
placeLabel.TextSize = 16
placeLabel.Parent = main

local listFrame = Instance.new("ScrollingFrame")
listFrame.Size = UDim2.new(1, -12, 0, 180)
listFrame.Position = UDim2.new(0, 6, 0, 80)
listFrame.BackgroundTransparency = 0.95
listFrame.BorderSizePixel = 0
listFrame.CanvasSize = UDim2.new(0,0,0,0)
listFrame.ScrollBarThickness = 6
listFrame.Parent = main

local uiListLayout = Instance.new("UIListLayout", listFrame)
uiListLayout.SortOrder = Enum.SortOrder.LayoutOrder
uiListLayout.Padding = UDim.new(0, 6)

local function refreshList()
    for _, child in ipairs(listFrame:GetChildren()) do
        if child:IsA("Frame") then child:Destroy() end
    end
    local count = 0
    for i, info in ipairs(scripts) do
        count = count + 1
        local row = Instance.new("Frame")
        row.Size = UDim2.new(1, -12, 0, 48)
        row.BackgroundColor3 = Color3.fromRGB(40,40,40)
        row.BorderSizePixel = 0
        row.LayoutOrder = i
        row.Parent = listFrame
        local rcorner = Instance.new("UICorner", row)
        rcorner.CornerRadius = UDim.new(0,6)

        local nameLabel = Instance.new("TextLabel", row)
        nameLabel.Size = UDim2.new(0.62, -12, 1, 0)
        nameLabel.Position = UDim2.new(0, 10, 0, 0)
        nameLabel.BackgroundTransparency = 1
        nameLabel.Text = info.name .. " (" .. tostring(info.id) .. ")"
        nameLabel.TextColor3 = Color3.fromRGB(230,230,230)
        nameLabel.Font = Enum.Font.SourceSans
        nameLabel.TextSize = 14
        nameLabel.TextXAlignment = Enum.TextXAlignment.Left

        local runBtn = Instance.new("TextButton", row)
        runBtn.Size = UDim2.new(0.34, -12, 0.8, 0)
        runBtn.Position = UDim2.new(0.64, 6, 0.1, 0)
        runBtn.Text = "Run"
        runBtn.Font = Enum.Font.SourceSansBold
        runBtn.TextSize = 14
        runBtn.BackgroundColor3 = Color3.fromRGB(70,70,70)
        runBtn.TextColor3 = Color3.fromRGB(255,255,255)
        runBtn.AutoButtonColor = true

        runBtn.MouseButton1Click:Connect(function()
            if tostring(game.PlaceId) ~= tostring(info.id) then
                -- If trying to run a script for another place, warn but allow user to attempt
                showNotification("Warning", "PlaceId mismatch. Attempting to run anyway.")
            end
            showNotification("Status", "Downloading script: " .. info.name, 2)
            local ok, res = tryExecuteScript(info.url)
            if ok then
                showNotification("Success", "Script executed: " .. info.name, 3)
            else
                showNotification("Error", "Failed to run script: " .. tostring(res), 4)
            end
        end)
    end
    listFrame.CanvasSize = UDim2.new(0,0,0, 56 * count)
end

refreshList()

local executeCurrentBtn = Instance.new("TextButton")
executeCurrentBtn.Size = UDim2.new(1, -12, 0, 36)
executeCurrentBtn.Position = UDim2.new(0, 6, 1, -44)
executeCurrentBtn.Text = "Execute script for this PlaceId"
executeCurrentBtn.Font = Enum.Font.SourceSansBold
executeCurrentBtn.TextSize = 16
executeCurrentBtn.BackgroundColor3 = Color3.fromRGB(85,85,85)
executeCurrentBtn.TextColor3 = Color3.fromRGB(255,255,255)
executeCurrentBtn.Parent = main

executeCurrentBtn.MouseButton1Click:Connect(function()
    local current = tostring(game.PlaceId)
    local found = nil
    for _, info in ipairs(scripts) do
        if tostring(info.id) == current then
            found = info
            break
        end
    end
    if not found then
        -- Show 5 notifications in English saying no scripts available
        for i = 1,5 do
            showNotification("No scripts available", "No scripts available for this PlaceId.", 2)
            wait(0.25)
        end
        return
    end

    showNotification("Status", "Found script: " .. found.name, 2)
    local ok, res = tryExecuteScript(found.url)
    if ok then
        showNotification("Success", "Script executed: " .. found.name, 3)
    else
        showNotification("Error", "Failed to run script: " .. tostring(res), 4)
    end
end)

-- Add to PlayerGui
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Final small hint notification
showNotification("StealHub", "Hub loaded. PlaceId: " .. tostring(game.PlaceId), 4)

-- End of StealHub.lua

